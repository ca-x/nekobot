import{e as u,b as n,t as r,a as t}from"./index-DMfSApuS.js";import{u as c}from"./button-DVjcoFYi.js";import{u as i}from"./useMutation-TaRjHYf5.js";function m(){return c({queryKey:["config"],queryFn:()=>t.get("/api/config"),staleTime:3e4})}function y(){const o=u();return i({mutationFn:e=>t.put("/api/config",e),onSuccess:()=>{o.invalidateQueries({queryKey:["config"]}),n.success(r("configSaved"))},onError:e=>n.error(e.message)})}function l(){return i({mutationFn:async()=>{const o=await t.get("/api/config/export"),e=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),a=URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download=`nekobot-config-${new Date().toISOString().slice(0,10)}.json`,s.click(),URL.revokeObjectURL(a)},onSuccess:()=>n.success(r("exported")),onError:o=>n.error(o.message)})}function d(){const o=u();return i({mutationFn:e=>t.post("/api/config/import",e),onSuccess:e=>{o.invalidateQueries({queryKey:["config"]}),e&&n.success(r("imported",String(e.sections??0),String(e.providers??0)))},onError:()=>n.error(r("importFailed"))})}function S(){return c({queryKey:["status"],queryFn:()=>t.get("/api/status"),staleTime:1e4})}export{y as a,l as b,d as c,S as d,m as u};
